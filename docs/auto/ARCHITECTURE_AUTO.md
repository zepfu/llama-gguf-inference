# Architecture (Auto-Generated)

**Generated:** 2026-02-09 20:44:31
**Project:** /home/zepfu/projects/llama-gguf-inference

## Overview

Analyzed **4** Python modules containing:
- **3** classes
- **14** functions
- **0** async functions

### Detected Patterns

- ❌ **Api**
- ❌ **Async**
- ❌ **Cli**
- ❌ **Database**
- ❌ **Dataclass**
- ❌ **Orm**
- ✅ **Server**
- ❌ **State Machine**
- ✅ **Workflows**

## Flowchart Diagram

```mermaid
flowchart TD
    Start([Start]) --> Init[Initialize]
    Init --> main[main]
    main --> End([End])
```


## State Diagram

*State diagram not applicable for this codebase.*


## Sequence Diagram

*Sequence diagram not applicable for this codebase.*


## Architecture Diagram

```mermaid
architecture-beta
    group docs(cloud)[Docs]
        service docs_conf(server)[conf] in docs
    end
    group scripts(cloud)[Scripts]
        service scripts_health_server(server)[health_server] in scripts
        service scripts_gateway(server)[gateway] in scripts
        service scripts_auth(server)[auth] in scripts
    end
```


## Er Diagram

*Er diagram not applicable for this codebase.*


## Class Diagram

```mermaid
classDiagram
    class scripts_health_server_HealthHandler {
        +do_GET()
        +log_message(format)
    }
    class scripts_gateway_Metrics {
        +requests_total
        +requests_success
        +requests_error
        +requests_active
        +requests_authenticated
        +to_dict()
    }
    class scripts_auth_APIKeyValidator {
        +__init__()
        +_load_keys()
        +validate(headers)
        +_is_valid_format(key)
        +_check_rate_limit(key_id)
    }
```


## Journey Diagram

*Journey diagram not applicable for this codebase.*


## Mindmap Diagram

```mermaid
mindmap
  root((Project))
    docs
      conf
    scripts
      health_server
      gateway
      auth
```


## Workflow Pipeline Diagram

```mermaid
flowchart TD

    Push -->|Doc Changes| Docs[Build Docs]
    Docs --> publish[Publish Docker Image]
    Docs --> update_docs[Update Documentation]

    Tag[Release Tag] --> Release[Release Process]
    Release --> release[Release]
```


## Workflow Triggers Diagram

```mermaid
graph TD
    publish[Publish Docker Image]
    release[Release]
    update_docs[Update Documentation]
    pr_validation[PR Validation]
    ci[CI]
    build_docs[Build Documentation]
```


## Workflow Jobs Diagram

```mermaid
flowchart LR
    subgraph pr_validation[PR Validation]
        enforce_pre_commit[enforce-pre-commit]
        enforce_configs[enforce-configs]
        validate_project[validate-project]
        test_docker_build[test-docker-build]
        enforce_configs --> validate_project
        validate_project --> test_docker_build
    end
```


## Development Workflows

### GitHub Workflows Summary

| Workflow | Triggers | Jobs |
|----------|----------|------|
| Build Documentation |  | check-ci-status, build-docs, validate-rtd |
| CI |  | config-validation, python-standards, shell-standards... |
| PR Validation |  | enforce-pre-commit, enforce-configs, validate-project... |
| Publish Docker Image |  | check-ci-success, publish |
| Release |  | release |
| Update Documentation |  | update-docs |

## Module Summary

### `docs.conf`

- **Classes:** 0
- **Functions:** 0
- **Async Functions:** 0

### `scripts.auth`

auth.py - API Key Authentication Module for Gateway

File-based authentication system that enforces API keys while maintaining
OpenAI compatibility. Uses key_id:api_key format for easy management and ...

- **Classes:** 1
- **Functions:** 7
- **Async Functions:** 0

### `scripts.gateway`

gateway.py – Async HTTP gateway for llama.cpp llama-server

Features:
- API key authentication with health endpoint exemption
- Proper SSE/streaming support for chat completions
- /ping and /health en...

- **Classes:** 1
- **Functions:** 4
- **Async Functions:** 0

### `scripts.health_server`

health_server.py — Ultra-lightweight health check server for RunPod

This server runs on PORT_HEALTH (separate from the main gateway) and provides
a minimal health check endpoint that doesn't interact...

- **Classes:** 1
- **Functions:** 3
- **Async Functions:** 0

---

*Generated by: `generate_architecture.py` from repo-standards*
